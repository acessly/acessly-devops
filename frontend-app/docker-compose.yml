version: "3.9"

services:
  acessly-web:
    build: .
    container_name: acessly-web
    ports:
      - "8081:8081"          # Expo Web
    volumes:
      - .:/app
      - /app/node_modules
    environment:
      - EXPO_NO_TELEMETRY=1
      - CI=false
    command: ["npx", "expo", "start", "--web"]

  acessly-mobile:
    build: .
    container_name: acessly-mobile
    ports:
      - "19000:19000"        # Metro Bundler
      - "19001:19001"        # Comunicação LAN
      - "19002:19002"        # Web UI do Expo
    volumes:
      - .:/app
      - /app/node_modules
    environment:
      - EXPO_NO_TELEMETRY=1
      - CI=false
    command: ["npx", "expo", "start", "--tunnel"]
